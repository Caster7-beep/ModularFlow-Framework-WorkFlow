/* ParticleBackground组件样式 */

/* 粒子背景画布 */
.particle-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: -1;
  opacity: 0;
  transition: opacity 2s ease-in-out;
}

.particle-background.loaded {
  opacity: 1;
}

/* 粒子颜色变量定义 */
:root {
  --particle-color-1: rgba(100, 149, 237, 0.6); /* 蓝色 */
  --particle-color-2: rgba(147, 112, 219, 0.6); /* 紫色 */
  --particle-color-3: rgba(64, 224, 208, 0.6); /* 青色 */
  --particle-color-4: rgba(255, 182, 193, 0.6); /* 粉色 */
  --particle-color-5: rgba(152, 251, 152, 0.6); /* 浅绿色 */
}

/* 深色主题下的粒子颜色 */
[data-theme="dark"] {
  --particle-color-1: rgba(100, 149, 237, 0.4);
  --particle-color-2: rgba(147, 112, 219, 0.4);
  --particle-color-3: rgba(64, 224, 208, 0.4);
  --particle-color-4: rgba(255, 182, 193, 0.4);
  --particle-color-5: rgba(152, 251, 152, 0.4);
}

/* 浅色主题下的粒子颜色 */
[data-theme="light"] {
  --particle-color-1: rgba(100, 149, 237, 0.3);
  --particle-color-2: rgba(147, 112, 219, 0.3);
  --particle-color-3: rgba(64, 224, 208, 0.3);
  --particle-color-4: rgba(255, 182, 193, 0.3);
  --particle-color-5: rgba(152, 251, 152, 0.3);
}

/* 高性能模式 - 降低粒子效果 */
.particle-background.performance-mode {
  opacity: 0.5;
}

/* 无障碍设置 - 减少动画 */
@media (prefers-reduced-motion: reduce) {
  .particle-background {
    opacity: 0.3;
    transition: none;
  }
  
  .particle-background.loaded {
    opacity: 0.3;
  }
}

/* 移动设备优化 */
@media (max-width: 768px) {
  .particle-background {
    opacity: 0.4;
  }
  
  .particle-background.loaded {
    opacity: 0.4;
  }
}

@media (max-width: 480px) {
  .particle-background {
    opacity: 0.3;
  }
  
  .particle-background.loaded {
    opacity: 0.3;
  }
}

/* 电池优化 - 低电量模式 */
@media (prefers-reduced-data: reduce) {
  .particle-background {
    display: none;
  }
}

/* 高对比度模式 */
@media (prefers-contrast: high) {
  .particle-background {
    opacity: 0.2;
  }
  
  :root {
    --particle-color-1: rgba(255, 255, 255, 0.8);
    --particle-color-2: rgba(255, 255, 255, 0.8);
    --particle-color-3: rgba(255, 255, 255, 0.8);
    --particle-color-4: rgba(255, 255, 255, 0.8);
    --particle-color-5: rgba(255, 255, 255, 0.8);
  }
}

/* 调试模式 - 显示画布边框 */
.particle-background.debug {
  border: 1px dashed rgba(255, 0, 0, 0.5);
  z-index: 999;
  pointer-events: all;
}

/* 暂停动画模式 */
.particle-background.paused {
  animation-play-state: paused;
  opacity: 0.2;
}

/* 全屏模式优化 */
.particle-background.fullscreen {
  z-index: -10;
  opacity: 0.8;
}

/* 互动模式 - 允许鼠标交互 */
.particle-background.interactive {
  pointer-events: all;
  cursor: none;
}

.particle-background.interactive:hover {
  opacity: 0.8;
}

/* 性能监控相关类 */
.particle-background.low-performance {
  opacity: 0.2;
  filter: blur(1px);
}

.particle-background.high-performance {
  opacity: 1;
  filter: none;
}

/* 主题色彩变体 */
.particle-background.theme-blue {
  --particle-color-1: rgba(59, 130, 246, 0.6);
  --particle-color-2: rgba(96, 165, 250, 0.6);
  --particle-color-3: rgba(147, 197, 253, 0.6);
  --particle-color-4: rgba(191, 219, 254, 0.6);
  --particle-color-5: rgba(219, 234, 254, 0.6);
}

.particle-background.theme-purple {
  --particle-color-1: rgba(139, 69, 19, 0.6);
  --particle-color-2: rgba(147, 51, 234, 0.6);
  --particle-color-3: rgba(168, 85, 247, 0.6);
  --particle-color-4: rgba(196, 181, 253, 0.6);
  --particle-color-5: rgba(221, 214, 254, 0.6);
}

.particle-background.theme-green {
  --particle-color-1: rgba(34, 197, 94, 0.6);
  --particle-color-2: rgba(74, 222, 128, 0.6);
  --particle-color-3: rgba(134, 239, 172, 0.6);
  --particle-color-4: rgba(187, 247, 208, 0.6);
  --particle-color-5: rgba(220, 252, 231, 0.6);
}

.particle-background.theme-warm {
  --particle-color-1: rgba(251, 146, 60, 0.6);
  --particle-color-2: rgba(251, 191, 36, 0.6);
  --particle-color-3: rgba(252, 211, 77, 0.6);
  --particle-color-4: rgba(254, 240, 138, 0.6);
  --particle-color-5: rgba(255, 251, 235, 0.6);
}

/* 季节主题 */
.particle-background.season-spring {
  --particle-color-1: rgba(34, 197, 94, 0.6);  /* 嫩绿 */
  --particle-color-2: rgba(251, 191, 36, 0.6);  /* 明黄 */
  --particle-color-3: rgba(244, 114, 182, 0.6); /* 粉红 */
  --particle-color-4: rgba(139, 69, 19, 0.6);   /* 棕色 */
  --particle-color-5: rgba(147, 197, 253, 0.6); /* 天蓝 */
}

.particle-background.season-summer {
  --particle-color-1: rgba(251, 146, 60, 0.6);  /* 橙色 */
  --particle-color-2: rgba(252, 211, 77, 0.6);  /* 金黄 */
  --particle-color-3: rgba(59, 130, 246, 0.6);  /* 海蓝 */
  --particle-color-4: rgba(34, 197, 94, 0.6);   /* 草绿 */
  --particle-color-5: rgba(244, 114, 182, 0.6); /* 热粉 */
}

.particle-background.season-autumn {
  --particle-color-1: rgba(180, 83, 9, 0.6);    /* 深橙 */
  --particle-color-2: rgba(217, 119, 6, 0.6);   /* 琥珀 */
  --particle-color-3: rgba(251, 191, 36, 0.6);  /* 金色 */
  --particle-color-4: rgba(139, 69, 19, 0.6);   /* 棕红 */
  --particle-color-5: rgba(194, 65, 12, 0.6);   /* 深红 */
}

.particle-background.season-winter {
  --particle-color-1: rgba(147, 197, 253, 0.6); /* 冰蓝 */
  --particle-color-2: rgba(219, 234, 254, 0.6); /* 浅蓝 */
  --particle-color-3: rgba(255, 255, 255, 0.6); /* 纯白 */
  --particle-color-4: rgba(148, 163, 184, 0.6); /* 银灰 */
  --particle-color-5: rgba(203, 213, 225, 0.6); /* 浅灰 */
}

/* 动态效果增强 */
.particle-background.enhanced {
  filter: brightness(1.1) saturate(1.2);
}

.particle-background.enhanced:before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(var(--accent-rgb, 100, 149, 237), 0.05) 100%
  );
  pointer-events: none;
}

/* 渐变背景增强 */
.particle-background.gradient-overlay:after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    45deg,
    rgba(var(--accent-rgb, 100, 149, 237), 0.02) 0%,
    transparent 30%,
    transparent 70%,
    rgba(var(--accent-secondary-rgb, 102, 126, 234), 0.02) 100%
  );
  pointer-events: none;
}

/* 加载状态 */
.particle-background.loading {
  background: radial-gradient(
    circle at center,
    rgba(var(--accent-rgb, 100, 149, 237), 0.1) 0%,
    transparent 70%
  );
  animation: particleLoading 2s ease-in-out infinite alternate;
}

@keyframes particleLoading {
  0% {
    opacity: 0.2;
    transform: scale(0.95);
  }
  100% {
    opacity: 0.4;
    transform: scale(1.05);
  }
}

/* 错误状态 */
.particle-background.error {
  background: rgba(239, 68, 68, 0.1);
  opacity: 0.3;
}

/* 打印样式 */
@media print {
  .particle-background {
    display: none !important;
  }
}

/* 无GPU加速时的回退 */
.no-gpu .particle-background {
  opacity: 0.2;
  filter: blur(2px);
}

/* 触摸设备优化 */
@media (hover: none) and (pointer: coarse) {
  .particle-background {
    opacity: 0.3;
  }
  
  .particle-background.interactive {
    pointer-events: none;
  }
}

/* 大屏幕优化 */
@media (min-width: 1920px) {
  .particle-background.enhanced {
    filter: brightness(1.2) saturate(1.3);
  }
}

/* 超大屏幕优化 */
@media (min-width: 2560px) {
  .particle-background {
    opacity: 0.8;
  }
}

/* 可见性API支持 */
.particle-background.hidden {
  opacity: 0;
  transition: opacity 0.5s ease;
}

.particle-background.visible {
  opacity: 1;
  transition: opacity 0.5s ease;
}